version: '3.8'

services:
  device-agent:
    container_name: device-agent
    image: margo.org/device-agent:dev-sprint-6
    volumes:
      # - /root/.kube/config:/root/.kube/config:ro # to manage kubernetes runtimes
      - /var/run/docker.sock:/var/run/docker.sock # to manage docker runtimes
      - ./config/config.yaml:/config/config.yaml
      - ./config/capabilities.yaml:/config/capabilities.yaml
      - ./data:/data
    restart: unless-stopped
    entrypoint: ["./device-agent"]
    command: ["-config", "config/config.yaml"]
